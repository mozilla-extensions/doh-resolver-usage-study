We are sending a single telemetry event with four extra keys. Three of the keys contain the results of looking up three domains:
1. doh.test - the canonical domain for CNAME-based discovery of network DoH endpoint
2. whoartthou - a domain that results in a well-known response when resolved via a Comcast resolver. Similar to doh.test - kind of a safety.
3. A uuid-subdomain of our canonical domain - <uuid>.firefox-resolver-usage-test.net

Each result is either the CNAME answer of the DNS lookup if it was present, or the list of IP addresses in the returned A records if present, or an empty string otherwise.

In addition to these three results, we also record the UUID generated by the client to use as the subdomain of the canonical domain. This UUID is generated randomly via the UUIDGenerator service [1].


[1] https://searchfox.org/mozilla-central/rev/0e309417bdc73be33fc93f6bd7a0d4063d2c6e51/xpcom/base/nsIUUIDGenerator.idl
